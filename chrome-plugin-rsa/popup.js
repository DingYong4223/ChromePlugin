// 省略公钥和私钥
// const publicKey = `-----BEGIN PUBLIC KEY-----
// MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAu5XzN8tTO+F4ogqd/NYm
// z+AHd5vtXF+r/djog9y+3Cbqw9Uclf3KlcL7p/ijp9+5D/dobr670eJhtKoDwzXV
// 0ZQuu1iZN2Dk7zsCErvZkvKDIsJ0d20au9JSDav0sPMGZ7SOQO6UhKxZadyFh+Pr
// wx8ZbXgT9CGULZYgwqiWafjByFp6Uac83OBwNVbhG7cD7thtjOfcp264fec47o+h
// E7pEFwd9ts0xf9kmE9vbcJdYqlki+I7xSyRpSCh78p+AF5IVBqOpe/6Ilh498Nfn
// HbxI/PoSpM8z3KOJZIhrtqBYixG7b6PrwvU1XG7ZAfqwyN1GFhGKfMC2Uqs6JOxc
// 0wIDAQAB
// -----END PUBLIC KEY-----`;

// const privateKey = `-----BEGIN PRIVATE KEY-----
// MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC7lfM3y1M74Xii
// Cp381ibP4Ad3m+1cX6v92OiD3L7cJurD1RyV/cqVwvun+KOn37kP92huvrvR4mG0
// qgPDNdXRlC67WJk3YOTvOwISu9mS8oMiwnR3bRq70lINq/Sw8wZntI5A7pSErFlp
// 3IWH4+vDHxlteBP0IZQtliDCqJZp+MHIWnpRpzzc4HA1VuEbtwPu2G2M59ynbrh9
// 5zjuj6ETukQXB322zTF/2SYT29twl1iqWSL4jvFLJGlIKHvyn4AXkhUGo6l7/oiW
// Hj3w1+cdvEj8+hKkzzPco4lkiGu2oFiLEbtvo+vC9TVcbtkB+rDI3UYWEYp8wLZS
// qzok7FzTAgMBAAECggEADoJJnp4mYPJOj1H86Ep0FA4C5dh0onlv5yF40oInbQXB
// kMYSAPPxUGYVaueLWPev67E6LZ6pDlHRNtUTl2y5jg1FFA6FQ0hGTM6mmWZYLMp/
// JBggRAB3WeGpoQ8UzP7vFuRbQGBzslNWUx7QYTNaz+u+3r2z5WUXffMns4awo5+N
// CTVBitiPPcllsEQ4YBcaoGbLFn1ljUHaXFAOQtArEQ0m0ZHrZT3a7TCeCer7H9pW
// pzs6TRcb2NhGzn9825Rl35Om02RJCfpFvpxoyxWh0iM5XKkeWaLLsaPlseChUvoF
// XTLnfIi9MBjUGVRwidPdyEjWTAiTTOnxQqrd3/fc6QKBgQDjd5PKEAFi/7t6zMOl
// MAIjPUr74tBQpfn4tG6CFHoa2eTOwNWZMDX+buikZyNFDaCdklbaMy1xr6X6KE8J
// KbYG+D+zhB0DLtI0v+1J2+ukVt06rMfZRejAO+Oi+U4N0q/E7PmhtKqtNZkM/ldF
// fB6BaV6VYlKOMYqk7V7+RoCYbwKBgQDTHbPp+e2pduTYo4RNobIDagTb6Jcdkq6y
// CrNRwFs5gCxuYZ8u26z1Mpj5I00dY7+bP4IhkIixJzrHD8ZKLUyWd0WIZSCphTdA
// C52dmHY9b2XSxqbvpg04qzlxqsuAmxjPc9wrVXN5zPFIh63uNn/VrAa3Uxbx6nxP
// FGKuKmQL3QKBgQCvpPBcAUvw1CRCyMbyUUX1TCkQo63T+LYzk7AZhhJblZGXDVRi
// u9WVqLK/8FxNwB4cTpn+V7JprQZvSpztKGZEr4EQ750vjgIHdYSXmdg1yFWAL1cK
// sW7usdAvUm8xQVU0rQB+G3IH2fFbFTLylss/hsvgclHpNtwmSp0ln+9AxQKBgQCe
// ls6DMiMtTUoFz3fglVnTJL43sBZsubaPumgQPm6I2FcIKD9bBNx9aR/u72zLahYS
// ene33QpCAdUumhP7vuGsmjZaipUpow/pBZDGRTR1XAxidKYMmnGOI1nIoGO03U2a
// 8U7wIoXXdnO+Z2Xp73jCOzLkXf97hQkSop6qdN+o5QKBgBSBKpc6TAXLlyf1xX7/
// lv4IYlrUuiyVcWreN5/qjxpvr6Jmozcq+D5BddnQyj4YAHwi/80K7JKhCre6rnON
// 3JT1tWeuXiMvbXHMYUpzpO9TUVXlMaj30oqg6x/jsbKNK91h92cL4U8Db+zL8O95
// e1ZN0Im2BYFtAVb02ddvWXj/
// -----END PRIVATE KEY-----
// `;


const publicKey = "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAnvSR5VSoxCdhcgQzGkp8zSCOTUCP37YyVlJ8qzkRSxxNhB5OeKOP0OjhglAkn7v8i6SAR5ZDYwyLX6Y3W9+x5CoJ5bV3PpEzrq4qhv5JGBAE7q/ylR48y/3Aob/L04+4EuzFklzFILESmb7qsa5yKqtSO8Acvp2Ay0jJbzH6ZmhLkvW5C7+yoj/RnGWixop0EezxjV7wmI2aCHUAx4rUzbSoAhsonEYCRKS7MHx1t2M3vJBdinsnJEZ28tLXSdnTUrWzOK1gwYLfVW5ExQCLgOfGyweQ86ylgTDidjmeT4mpraqQHysLX/tv0FFhpUnxzK7P6DDWS3W0ep+o6eBvXQIDAQAB"
const privateKey = "MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCe9JHlVKjEJ2FyBDMaSnzNII5NQI/ftjJWUnyrORFLHE2EHk54o4/Q6OGCUCSfu/yLpIBHlkNjDItfpjdb37HkKgnltXc+kTOuriqG/kkYEATur/KVHjzL/cChv8vTj7gS7MWSXMUgsRKZvuqxrnIqq1I7wBy+nYDLSMlvMfpmaEuS9bkLv7KiP9GcZaLGinQR7PGNXvCYjZoIdQDHitTNtKgCGyicRgJEpLswfHW3Yze8kF2KeyckRnby0tdJ2dNStbM4rWDBgt9VbkTFAIuA58bLB5DzrKWBMOJ2OZ5PiamtqpAfKwtf+2/QUWGlSfHMrs/oMNZLdbR6n6jp4G9dAgMBAAECggEAekLTFPmQ9Y70vKXOSKKSa5Rm37SQ9RlGjm7TxT8XthYG6WAGK3Ri4eS9z2WlRddp4F6e7HD/U+gKK3/FhL0CLuTGyBBTr6QvhGQiAcMEpaVspcpfY6LmUGDVEZRcSlV419WWAYWpegO4stjN2+y5k2hC0AJsGZE7xyAtD4H5f1nvEbob0z/c9vlEYIUVZGsBf2PC7IPev64FLuGQE7/AsoM6jFh2etiCEkAbOUzHbhH3RAHajO7GdIPLBvFKGwYNKUh8lAKxQ11uZRjUQ2CgsawkgILV/DyqYoXJupsa0Q+ss0NVOkDf3tRbLc0fAmnpOjG78AgUIXNodOGzIEskYQKBgQDrFE8OV6k1rriW5O84kIxlU1J/jHl67C1R/fjrdZzJ7YzjqKwQo0GQhUiWyAJtoqGmMhaLgVi3VrbGUCPGJiaN/NuTPRWxGi/VXaJMPs+K2yErSyMEWmo6lcGjD2kOW7ZMUDoWMp3loNlliZPjMZ8Y3mZ3WeIv/vuxhpt+F0GgrwKBgQCtGfe7qLFxqZfpICebM4MV9tjWwr2q9boWFWuNg0DxTw0WyWQHQfNa+0afOIj6qMIxBJlvzV0Bet71XW5XKTmWbuQhYcbeoUcBBFB0DdM2Glret1A46KJOzxMz3HNAdkVhK028hr784DlE+Tg1SEWAYWidSlC9u80L49XPZgd7swKBgD7sMrT+Fda+q74IDVgwqMO+Z8ioSyPx77eQqX4s/wi1ww506YmSiUwrwOBLLQs3itk3cv1oY9y/IzE15j11nMBIvGVO5m1/Oup7o6OQ9HCQcvJprDfQE7sWtrv0tgQX3FXU65dheQ4r3cTl7GXVtGYtsXOk5Xw/XhOImjpH81MVAoGAQgIX/OB8Icq5GfXgBIflIdgKogKKzwl7F3a9l64IcrxhUmIjmbzlbrlJGeg2G9eEjaqiVAbsw2a2ZLxnGienRR0uMyiU7Ep1yAZ8I3UuKIBuTGV82uajFghS20DiVh+Dn2Ui9JQxej6KuCmM7IyNrEH44Zn4JhHaRAFyg+71RY8CgYEAmZVTkXFJXoIw8TAcV4968Uf/hfTwqWXc6uHAc/TAP4JNyi2+7TJ4xRziNenETcT9JByV8iw3iBjGwgeXr8BOzvPzs91foyG9elCK+WHBfT5XC9EssTwFXNTGdtcxG3fusHomwZlJnsuaHcBe0bX5HB0MXxJ3n4PjhvVQ+8qwuv0="

//此算法默认使用"RSA/None/PKCS1Padding"模式，在java侧实现时需要对齐，否则不能解密
function encryptMessage(message) {
  const encrypted = new JSEncrypt();
  encrypted.setPublicKey(publicKey);
  return encrypted.encrypt(message);
}

function decryptMessage(encryptedMessage) {
  const decrypted = new JSEncrypt();
  decrypted.setPrivateKey(privateKey);
  return decrypted.decrypt(encryptedMessage);
}

document.getElementById('encrypt-btn').addEventListener('click', () => {
  const message = document.getElementById('input-text').value;
  const encryptedMessage = encryptMessage(message);
  document.getElementById('output-text').textContent = encryptedMessage;
});

document.getElementById('decrypt-btn').addEventListener('click', () => {
  const encryptedMessage = document.getElementById('input-text').value;
  const decryptedMessage = decryptMessage(encryptedMessage);
  document.getElementById('output-text').textContent = decryptedMessage;
});

document.getElementById('netreq-btn').addEventListener('click', () => {
  const xhr = new XMLHttpRequest();
  xhr.withCredentials = true;
  xhr.open('GET', 'https://www.baidu.com/index.html');
  xhr.onload = () => {
    if (xhr.status === 200) {
      //const response = JSON.parse(xhr.responseText);
      document.getElementById('output-text').textContent = xhr.responseText;
      console.log(xhr.responseText);
    } else {
      console.error(xhr.statusText);
    }
  };
  xhr.onerror = () => {
    console.error('Network error');
  };
  xhr.send();
});

